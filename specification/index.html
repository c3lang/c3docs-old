<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Specification - C3 Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Specification";
    var mkdocs_page_input_path = "specification.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ebnf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bnf.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> C3 Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">About C3</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../firstproject/">Your first project</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../primer/">A quick primer on C3</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../changesfromc/">Changes from C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../compare/">Comparisons with other languages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types/">Types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../define/">Define</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arrays/">Arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statements/">Statements</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../expressions/">Expressions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../errorhandling/">Errors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../undefinedbehaviour/">Undefined behaviour</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../conversion/">Conversions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../builtinmacros/">Built-in Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../precedence/">Precedence</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../generics/">Generics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../macros/">Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reflection/">Reflection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../preconditions/">Pre and post conditions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../library/">Library</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ideas/">Crazy ideas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../naming/">Naming rules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../comments/">Comments & Docs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../attributes/">Attributes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cinterop/">C Interop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../syntax/">Grammar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sample/">More code examples</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Specification</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#notation">Notation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#source-code-representation">Source code representation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#lexical-translations">Lexical Translations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#line-terminators">Line Terminators</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#input-elements-and-tokens">Input Elements and Tokens</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#white-space">White Space</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#letters-and-digits">Letters and digits</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#comments">Comments</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#doc-comments">Doc comments</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#identifiers">Identifiers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#keywords">Keywords</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#operators-and-punctuation">Operators and punctuation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#integer-literals">Integer literals</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#floating-point-literals">Floating point literals</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#character-literals">Character literals</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#string-literals">String literals</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#types">Types</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#boolean-types">Boolean types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#integer-types">Integer types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#floating-point-types">Floating point types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#vector-types">Vector types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#complex-types">Complex types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#string-types">String types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#array-types">Array types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#vararray-types">Vararray types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#subarray-types">Subarray types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pointer-types">Pointer types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#struct-types">Struct types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#union-types">Union types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-types">Error types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#enum-types">Enum types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#function-types">Function types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#virtual-types">Virtual types</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#declarations-and-scope">Declarations and scope</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#expressions">Expressions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#casts">Casts</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pointer-casts">Pointer casts</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#integer-to-pointer-cast">Integer to pointer cast</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#pointer-to-integer-cast">Pointer to integer cast</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#subscript-operator">Subscript operator</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#operands">Operands</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#compound-literals">Compound Literals</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#function-calls">Function calls</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#varargs">Varargs</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#statements">Statements</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#if-statement">If statement</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#switch-stat">Switch stat</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#modules">Modules</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Build system</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../buildintro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../project/">Project Structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../buildcommands/">Commands</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contribute/">Contribute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../changes/">Changes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rejectedideas/">Rejected ideas</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">C3 Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation &raquo;</li>
        
      
    
    <li>Specification</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="specification">Specification</h1>
<p><em>THIS SPECIFICATION IS UNDER DEVELOPMENT</em></p>
<h2 id="notation">Notation</h2>
<p>The syntax is specified using Extended Backus-Naur Form (EBNF):</p>
<pre><code>production  ::= PRODUCTION_NAME '::=' expression?
expression  ::= alternative (&quot;|&quot; alternative)* 
alternative ::= term term*
term        ::= PRODUCTION_NAME | TOKEN | set | group | option | repetition
set         ::= '[' (range | CHAR) (rang | CHAR)* ']'
range       ::= CHAR '-' CHAR 
group       ::= '(' expression ')'
option      ::= expression '?'
repetition  ::= expression '*'
</code></pre>
<p>Productions are expressions constructed from terms and the following operators, in increasing precedence:</p>
<pre><code>|   alternation
()  grouping
?  option (0 or 1 times)
*  repetition (0 to n times)
</code></pre>
<p>Uppercase production names are used to identify lexical tokens. Non-terminals are in lower case. Lexical tokens are enclosed in single quotes ''.</p>
<p>The form a..b represents the set of characters from a through b as alternatives.</p>
<h2 id="source-code-representation">Source code representation</h2>
<p>A program consists of one or more <em>translation units</em> stored in files written in the Unicode character set,
 stored as a sequence of bytes using the UTF-8 encoding. Except for comments and the contents of character and string literals, all input elements are formed only from the ASCII subset (U+0000 to U+007F) of Unicode.</p>
<p>A raw byte stream is translated into a sequence of tokens which white space and non-doc comments are discarded. Doc comments may optionally be discarded as well. The resulting input elements form the tokens that are the terminal symbols of the syntactic grammar.</p>
<h3 id="lexical-translations">Lexical Translations</h3>
<p>A raw byte stream is translated into a sequence of tokens which white space and non-doc comments are discarded. Doc comments may optionally be discarded as well. The resulting input elements form the tokens that are the terminal symbols of the syntactic grammar.</p>
<p>The longest possible translation is used at each step, even if the result does not ultimately make a correct program while another lexical translation would.</p>
<blockquote>
<p>Example: <code>a--b</code> is translated as <code>a</code>, <code>--</code>, <code>b</code>, which does not form a grammatically correct expression, even &gt;though the tokenization <code>a</code>, <code>-</code>, <code>-</code>, <code>b</code> could form a grammatically correct expression.</p>
</blockquote>
<h3 id="line-terminators">Line Terminators</h3>
<p>The C3 compiler divides the sequence of input bytes into lines by recognizing <em>line terminators</em></p>
<p>Lines are terminated by the ASCII LF character (U+000A), also known as "newline". A line termination specifies the termination of the // form of a comment.</p>
<h3 id="input-elements-and-tokens">Input Elements and Tokens</h3>
<p>An input element may be:</p>
<ol>
<li>White space</li>
<li>Comment</li>
<li>Doc Comment</li>
<li>Token</li>
</ol>
<p>A token may be:</p>
<ol>
<li>Identifier</li>
<li>Keyword</li>
<li>Literal</li>
<li>Separator</li>
<li>Operator</li>
</ol>
<p>A Doc Comment consists of:</p>
<ol>
<li>A stream of descriptive text</li>
<li>A list of directive Tokens</li>
</ol>
<p>Those input elements that are not white space or comments are tokens. The tokens are the terminal symbols of the syntactic grammar. Whitespace and comments can serve to separate tokens that might be tokenized in another manner. For example the characters <code>+</code> and <code>=</code> may form the operator token <code>+=</code> only if there is no intervening white space or comment.</p>
<h3 id="white-space">White Space</h3>
<p>White space is defined as the ASCII horizontal tab character (U+0009), form feed character (U+000A), vertical tab (U+000B), carriage return (U+000D), space character (U+0020) and the line terminator character (U+000D).</p>
<pre><code>WHITESPACE      ::= [ \t\f\v\r\n]
</code></pre>
<h3 id="letters-and-digits">Letters and digits</h3>
<pre><code>UC_LETTER       ::= [A-Z]
LC_LETTER       ::= [a-z]
LETTER          ::= UC_LETTER | LC_LETTER
DIGIT           ::= [0-9]
HEX_DIGIT       ::= [0-9a-fA-F]
BINARY_DIGIT    ::= [01]
OCTAL_DIGIT     ::= [0-7]
UC_LETTER_US    ::= UC_LETTER | &quot;_&quot;
ALPHANUM        ::= LETTER | DIGIT
ALPHANUM_US     ::= ALPHANUM | &quot;_&quot;
UC_ALPHANUM_US  ::= UC_LETTER_US | DIGIT
</code></pre>
<h3 id="comments">Comments</h3>
<p>Thre are three types of regular comments:</p>
<ol>
<li><code>// text</code> a line comment. The text between <code>//</code> and line end is ignored.</li>
<li><code>/* text */</code> block comments. The text between <code>/*</code> and <code>*/</code> is ignored. It has nesting behaviour, so for every <code>/*</code> discovered between the first <code>/*</code> and the last <code>*/</code> a corresponding <code>*/</code> must be found.</li>
</ol>
<h3 id="doc-comments">Doc comments</h3>
<ol>
<li><code>/** text **/</code> doc block comment. The text between <code>/**</code> and <code>**/</code> is optionally parsed using the doc comment syntatic grammar. A compiler may choose to read <code>/** text **/</code> as a regular comment.</li>
<li><code>///</code> text doc line comment. The text between <code>///</code> and line end is optionally parsed using the doc comment syntactic grammar. A compiler may choose to read <code>///</code> as a regular comment.</li>
</ol>
<h3 id="identifiers">Identifiers</h3>
<p>Identifiers name program entities such as variables and types. An identifier is a sequence of one or more letters and digits. 
The first character in an identifier must be a letter or underscore.</p>
<p>C3 has three types of identifiers: const identifiers - containing only underscore and upper-case letters, 
type identifiers - starting with an upper case letter followed by at least one underscore letter and regular identifiers, starting with a lower case letter.  </p>
<pre><code>IDENTIFIER      ::=  &quot;_&quot;* LC_LETTER ALPHANUM_US*
CONST_IDENT     ::=  &quot;_&quot;* UC_LETTER UC_ALPHANUM_US*
TYPE_IDENT      ::=  &quot;_&quot;* UC_LETTER &quot;_&quot;* LC_LETTER ALPHANUM_US*
CT_IDENT        ::=  &quot;$&quot; IDENTIFIER
CT_CONST_IDENT  ::=  &quot;$&quot; CONST_IDENT
CT_TYPE_IDENT   ::=  &quot;$&quot; TYPE_IDENT
</code></pre>
<h3 id="keywords">Keywords</h3>
<p>The following keywords are reserved and may not be used as identifiers:</p>
<pre><code>alias       as          asm
anyerr
assert      attribute   break
case        cast        catch
const       continue    default
defer       define      do
else        enum        extern
errtype     false       fn
generic     if          import
in          local       macro
module      nextcase    nil
public      return      struct
switch      true        try
typeid      typeof      define
var         volatile    void
while

bool        quad        double      
float       long        ulong
int         uint        byte
short       ushort      char
isize       usize       half

$assert     $case       $default
$if         $for        $else
$elif       $if         $switch
$foreach    $endswitch  $endif      
$endforeach $unreachable     

</code></pre>
<h3 id="operators-and-punctuation">Operators and punctuation</h3>
<p>The following character sequences represent operators and punctuation.</p>
<pre><code>&amp;       @       ~       |       ^       :
,       /       $       .       ;       )
&gt;       &lt;       #       {       }       -
(       )       *       [       ]       %
&gt;=      &lt;=      +       +=      -=      !
?       ?:      &amp;&amp;      -&gt;      &amp;=      |=
^=      /=      ..      ==      ({      })
-%      +%      *%      ++      --      %=
!=      ||      ::      &lt;&lt;      &gt;&gt;      !!
...     *%=     +%=     -%=     &lt;&lt;=     &gt;&gt;=
</code></pre>
<h3 id="integer-literals">Integer literals</h3>
<p>An integer literal is a sequence of digits representing an integer constant. 
An optional prefix sets a non-decimal base: 0b or 0B for binary, 
0o, or 0O for octal, and 0x or 0X for hexadecimal. 
A single 0 is considered a decimal zero. 
In hexadecimal literals, letters a through f and A through F represent values 10 through 15.</p>
<p>For readability, an underscore character _ may appear after a base prefix 
or between successive digits; such underscores do not change the literal's value.</p>
<pre><code>INTEGER         ::= DECIMAL_LIT | BINARY_LIT | OCTAL_LIT | HEX_LIT
DECIMAL_LIT     ::= '0' | [1-9] ('_'* DECIMAL_DIGITS)?
BINARY_LIT      ::= '0' [bB] '_'* BINARY_DIGITS
OCTAL_LIT       ::= '0' [oO] '_'* OCTAL_DIGITS
HEX_LIT         ::= '0' [xX] '_'* HEX_DIGITS

BINARY_DIGIT    ::= [01]
HEX_DIGIT       ::= [0-9a-fA-F]

DECIMAL_DIGITS  ::= DIGIT ('_'* DIGIT)*
BINARY_DIGITS   ::= BINARY_DIGIT ('_'* BINARY_DIGIT)*
OCTAL_DIGITS    ::= OCTAL_DIGIT ('_'* OCTAL_DIGIT)*
HEX_DIGITS      ::= HEX_DIGIT ('_'* HEX_DIGIT)*
</code></pre>
<pre><code>42
4_2
0_600
0o600
0O600           // second character is capital letter 'O'
0xBadFace
0xBad_Face
0x_67_7a_2f_cc_40_c6
170141183460469231731687303715884105727
170_141183_460469_231731_687303_715884_105727

0600            // Invalid, non zero decimal number may not start with 0 
_42             // an identifier, not an integer literal
42_             // invalid: _ must separate successive digits
0_xBadFace      // invalid: _ must separate successive digits
</code></pre>
<h3 id="floating-point-literals">Floating point literals</h3>
<p>A floating-point literal is a decimal or hexadecimal representation of a floating-point constant.</p>
<p>A decimal floating-point literal consists of an integer part (decimal digits), a decimal point, 
a fractional part (decimal digits), and an exponent part (e or E followed by an optional 
sign and decimal digits). One of the integer part or the fractional part may be elided; 
one of the decimal point or the exponent part may be elided. An exponent value exp scales 
the mantissa (integer and fractional part) by powers of 10.</p>
<p>A hexadecimal floating-point literal consists of a 0x or 0X prefix, an integer part 
(hexadecimal digits), a radix point, a fractional part (hexadecimal digits), 
and an exponent part (p or P followed by an optional sign and decimal digits). 
One of the integer part or the fractional part may be elided; the radix point 
may be elided as well, but the exponent part is required. 
An exponent value exp scales the mantissa (integer and fractional part) by powers of 2.</p>
<p>For readability, an underscore character _ may appear after a base prefix or between successive digits; 
such underscores do not change the literal value.</p>
<pre><code>FLOAT_LIT       ::= DEC_FLOAT_LIT | HEX_FLOAT_LIT
DEC_FLOAT_LIT   ::= DECIMAL_DIGITS '.' DECIMAL_DIGITS? DEC_EXPONENT? 
                    | DECIMAL_DIGITS DEC_EXPONENT
                    | '.' DECIMAL_DIGITS DEC_EXPONENT?
DEC_EXPONENT    ::= [eE] [+-]? DECIMAL_DIGITS
HEX_FLOAT_LIT   ::= '0' [xX] HEX_MANTISSA HEX_EXPONENT
HEX_MANTISSA    ::= HEX_DIGITS '.' HEX_DIGITS?
                    | HEX_DIGITS
                    | '.' HEX_DIGITS 
HEX_EXPONENT    ::= [pP] [+-] DECIMAL_DIGITS                    
</code></pre>
<h3 id="character-literals">Character literals</h3>
<p>A character literal may either: (a) represent a constant value of up to 8 bytes (16 bytes on platforms with Int128 support) or (b) a single unicode character. Escape sequences can be used to represent byte values 0-31 and 128-255.</p>
<p>The following backslash escapes are available to escape:</p>
<pre><code>\0      0x00 zero value
\a      0x07 alert/bell
\b      0x08 backspace
\e      0x1B escape
\f      0x0C form feed
\n      0x0A newline
\r      0x0D carriage return
\t      0x09 horizontal tab
\v      0x0B vertical tab
\\      0x5C backslash
\'      0x27 single quote '
\&quot;      0x22 double quote &quot;
\x      Escapes a single byte hex value
\u      Escapes a two byte unicode hex value 
\U      Escapes a four byte unicode hex value
</code></pre>
<pre><code>CHAR_ELEMENT    ::= [\x20-\x26] | [\x28-\x5B] | [\x5D-\x7F]
CHAR_LIT_BYTE   ::= CHAR_ELEMENT | \x5C CHAR_ESCAPE
CHAR_ESCAPE     ::= [abefnrtv\'\&quot;\\] 
                    | 'x' HEX_DIGIT HEX_DIGIT
UNICODE_CHAR    ::= unicode_char                    
                    | 'u' HEX_DIGIT HEX_DIGIT HEX_DIGIT HEX_DIGIT
                    | 'U' HEX_DIGIT HEX_DIGIT HEX_DIGIT HEX_DIGIT 
                          HEX_DIGIT HEX_DIGIT HEX_DIGIT HEX_DIGIT
CHARACTER_LIT   ::= &quot;'&quot; (CHAR_LIT_BYTE+) | UNICODE_CHAR &quot;'&quot;
</code></pre>
<h3 id="string-literals">String literals</h3>
<p>A string literal represents a string constant obtained from concatenating a sequence of characters. String literals are character sequences between double quotes, as in "bar". Within the quotes, any character may appear except newline and unescaped double quote. The text between the quotes forms the value of the literal, with backslash escapes interpreted as they are in rune literals, with the same restrictions. The two-digit hexadecimal (\xnn) escapes represent individual bytes of the resulting string; all other escapes represent the (possibly multi-byte) UTF-8 encoding of individual characters. Thus inside a string literal \xFF represent a single byte of value 0xFF=255, while Ã¿, \u00FF, \U000000FF and \xc3\xbf represent the two bytes 0xc3 0xbf of the UTF-8 encoding of character U+00FF.</p>
<pre><code>STRING_LIT      ::= \x22 (CHAR_LIT_BYTE | UNICODE_CHAR)* \x22
</code></pre>
<h2 id="types">Types</h2>
<p>Types consist of built-in types and user-defined types (enums, structs, unions, bitstructs, errtype and distinct).</p>
<h3 id="boolean-types">Boolean types</h3>
<p>The</p>
<h3 id="integer-types">Integer types</h3>
<h3 id="floating-point-types">Floating point types</h3>
<h3 id="vector-types">Vector types</h3>
<h3 id="complex-types">Complex types</h3>
<p>A complex type is defined as a struct with two elements of the same floating point type. The first member holds the real part of a complex number, and the second member holds the imaginary part.</p>
<pre><code>struct Complex
{
    float real;
    float imaginary;
}
</code></pre>
<h3 id="string-types">String types</h3>
<h3 id="array-types">Array types</h3>
<p>An array has the alignment of its element. Zero sized arrays are allowed and have the size 0.</p>
<h3 id="vararray-types">Vararray types</h3>
<h3 id="subarray-types">Subarray types</h3>
<p>The subarray consist of a pointer, followed by a usize length, having the alignment of pointers.</p>
<h3 id="pointer-types">Pointer types</h3>
<h3 id="struct-types">Struct types</h3>
<p>A struct without any members or with only arrays of size 0 have the size 0.</p>
<p>The alignment of a struct without any members is 1.</p>
<h3 id="union-types">Union types</h3>
<p>The alignment of a union without any members is 1.</p>
<h3 id="error-types">Error types</h3>
<p>Th</p>
<h3 id="enum-types">Enum types</h3>
<h3 id="function-types">Function types</h3>
<h3 id="virtual-types">Virtual types</h3>
<h2 id="declarations-and-scope">Declarations and scope</h2>
<h2 id="expressions">Expressions</h2>
<h3 id="casts">Casts</h3>
<h3 id="pointer-casts">Pointer casts</h3>
<h4 id="integer-to-pointer-cast">Integer to pointer cast</h4>
<p>Any integer of pointer size or larger may be explicitly cast to a pointer. An integer to pointer cast is considered non-constant, except in the special case where the integer == 0. In that case, the result is constant <code>null</code>.</p>
<p>Example:</p>
<pre><code>byte a = 1;
int* b = (int*)(a); // Invalid, pointer type is &gt; 8 bits.
int* c = (int*)(1); // Valid, but runtime value.
int* d = (int*)(0); // Valid and constant value.
</code></pre>
<h4 id="pointer-to-integer-cast">Pointer to integer cast</h4>
<p>A pointer may be cast to any integer, truncating the pointer value if the size of the pointer is larger than the pointer size. A pointer to integer cast is considered non-constant, except in the special case of a null pointer, where it is equal to the integer value 0.</p>
<p>Example:</p>
<pre><code>fn void test() { ... }
define VoidFunc = fn void test();

VoidFunc a = &amp;test;
int b = (int)(null);
int c = (int)(a); // Invalid, not constant
int d = (int)((int*)(1)); // Invalid, not constant
</code></pre>
<h3 id="subscript-operator">Subscript operator</h3>
<p>The subscript operator may take as its left side a pointer, array, subarray or vararray. The index may be of any integer type. TODO
<em>NOTE</em> The subscript operator is not symmetrical as in C. For example in C3 <code>array[n] = 33</code> is allowed, but not <code>n[array] = 33</code>. This is a change from C. </p>
<h3 id="operands">Operands</h3>
<h3 id="compound-literals">Compound Literals</h3>
<p>Compound literals have the format</p>
<pre><code>compound_literal   ::= TYPE_IDENTIFIER '(' initializer_list ')'
initializer_list   ::= '{' (initializer_param (',' initializer_param)* ','?)? '}'
initializer_param  ::= expression | designator '=' expression
designator         ::= array_designator | range_designator | field_designator
array_designator   ::= '[' expression ']'
range_designator   ::= '[' range_expression ']'
field_designator   ::= IDENTIFIER
range_expression   ::= (range_index)? '..' (range_index)?
range_index        ::= expression | '^' expression
</code></pre>
<p>Taking the address of a compound literal will yield a pointer to stack allocated temporary.</p>
<h3 id="function-calls">Function calls</h3>
<h4 id="varargs">Varargs</h4>
<p>For varargs, a <code>bool</code> or <em>any integer</em> smaller than what the C ABI specifies for the c <code>int</code> type is cast to <code>int</code>. Any float smaller than a double is cast to <code>double</code>. Compile time floats will be cast to double. Compile time integers will be cast to c <code>int</code> type.</p>
<h2 id="statements">Statements</h2>
<h3 id="if-statement">If statement</h3>
<h3 id="switch-stat">Switch stat</h3>
<h2 id="modules">Modules</h2>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../buildintro/" class="btn btn-neutral float-right" title="Introduction">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../sample/" class="btn btn-neutral" title="More code examples"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../sample/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../buildintro/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
